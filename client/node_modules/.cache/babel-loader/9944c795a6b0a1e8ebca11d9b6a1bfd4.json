{"ast":null,"code":"var _jsxFileName = \"/Users/rubencastroespinoza/Development/Learning /TinyHouseV1/client/src/sections/Listings/Listings.tsx\";\nimport React from \"react\";\nimport { server, useQuery } from \"../../lib/api\";\nconst LISTINGS = `\n    query Listings {\n        listings {\n            id \n            title\n            image \n            address\n            price \n            numOfGuests\n            numOfBeds\n            numOfBaths\n            rating\n            favored\n            bookings\n        }\n    }\n`;\nconst DELETE_LISTING = `\n    mutation DeleteListing($id: ID!) {\n      deleteListing(id: $id) {\n        id\n      }\n    }\n`;\nexport const Listings = ({\n  title\n}) => {\n  const {\n    data\n  } = useQuery(LISTINGS);\n\n  const deleteListing = async id => {\n    await server.fetch({\n      query: DELETE_LISTING,\n      variables: {\n        id: id\n      }\n    }); // how do we refetch \n  };\n\n  const listingsList = listings ? /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, listings.map(listing => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: listing.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, listing.title, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => deleteListing(listing.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, \"Delete\"));\n  })) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, title), listingsList);\n};","map":{"version":3,"sources":["/Users/rubencastroespinoza/Development/Learning /TinyHouseV1/client/src/sections/Listings/Listings.tsx"],"names":["React","server","useQuery","LISTINGS","DELETE_LISTING","Listings","title","data","deleteListing","id","fetch","query","variables","listingsList","listings","map","listing"],"mappings":";AAAA,OAAOA,KAAP,MAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,eAAjC;AAQA,MAAMC,QAAQ,GAAI;;;;;;;;;;;;;;;;CAAlB;AAkBA,MAAMC,cAAc,GAAI;;;;;;CAAxB;AAYA,OAAO,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAsB;AAC5C,QAAM;AAACC,IAAAA;AAAD,MAASL,QAAQ,CAAeC,QAAf,CAAvB;;AACA,QAAMK,aAAa,GAAG,MAAOC,EAAP,IAAsB;AAC1C,UAAMR,MAAM,CAACS,KAAP,CAAwD;AAC5DC,MAAAA,KAAK,EAAEP,cADqD;AAE5DQ,MAAAA,SAAS,EAAE;AACTH,QAAAA,EAAE,EAAEA;AADK;AAFiD,KAAxD,CAAN,CAD0C,CAO1C;AACD,GARD;;AAUA,QAAMI,YAAY,GAAGC,QAAQ,gBAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QAAQ,CAACC,GAAT,CAAcC,OAAD,IAAa;AACzB,wBACE;AAAI,MAAA,GAAG,EAAEA,OAAO,CAACP,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGO,OAAO,CAACV,KADX,eAEE;AAAQ,MAAA,OAAO,EAAE,MAAME,aAAa,CAACQ,OAAO,CAACP,EAAT,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF;AAMD,GAPA,CADH,CAD2B,GAWzB,IAXJ;AAaA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,KAAL,CADF,EAEGO,YAFH,CADF;AAMD,CA/BM","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { server, useQuery } from \"../../lib/api\";\nimport {\n  ListingsData,\n  Listing,\n  DeleteListingData,\n  DeleteListingVariables,\n} from \"./types\";\n\nconst LISTINGS = `\n    query Listings {\n        listings {\n            id \n            title\n            image \n            address\n            price \n            numOfGuests\n            numOfBeds\n            numOfBaths\n            rating\n            favored\n            bookings\n        }\n    }\n`;\n\nconst DELETE_LISTING = `\n    mutation DeleteListing($id: ID!) {\n      deleteListing(id: $id) {\n        id\n      }\n    }\n`;\n\ninterface Props {\n  title: string;\n}\n\nexport const Listings = ({ title }: Props) => {\n  const {data} = useQuery<ListingsData>(LISTINGS);\n  const deleteListing = async (id: string) => {\n    await server.fetch<DeleteListingData, DeleteListingVariables>({\n      query: DELETE_LISTING,\n      variables: {\n        id: id,\n      },\n    });\n    // how do we refetch \n  };\n\n  const listingsList = listings ? (\n    <ul>\n      {listings.map((listing) => {\n        return (\n          <li key={listing.id}>\n            {listing.title}\n            <button onClick={() => deleteListing(listing.id)}>Delete</button>\n          </li>\n        );\n      })}\n    </ul>\n  ) : null;\n\n  return (\n    <div>\n      <h2>{title}</h2>\n      {listingsList}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}