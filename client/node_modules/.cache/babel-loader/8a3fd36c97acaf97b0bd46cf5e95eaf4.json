{"ast":null,"code":"var _jsxFileName = \"/Users/rubencastroespinoza/Development/Learning /TinyHouseV1/client/src/sections/Listings/Listings.tsx\";\nimport React, { useState } from \"react\";\nimport { server } from \"../../lib/api\";\nconst LISTINGS = `\n    query Listings {\n        listings {\n            id \n            title\n            image \n            address\n            price \n            numOfGuests\n            numOfBeds\n            numOfBaths\n            rating\n            favored\n            bookings\n        }\n    }\n`;\nconst DELETE_LISTING = `\n    mutation DeleteListing($id: ID!) {\n      deleteListing(id: $id) {\n        id\n      }\n    }\n`;\nexport const Listings = ({\n  title\n}) => {\n  const [listings, setListings] = useState(null);\n\n  const fetchListings = async () => {\n    const {\n      data\n    } = await server.fetch({\n      query: LISTINGS\n    });\n    setListings(data.listings);\n  };\n\n  const deleteListing = async id => {\n    const {\n      data\n    } = await server.fetch({\n      query: DELETE_LISTING,\n      variables: {\n        id: \"5f5e503dc2442a024d7d5e69\"\n      }\n    });\n    console.log(data);\n  };\n\n  const listingsList = listings ? /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, listings.map(listing => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: listing.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 16\n      }\n    }, listing.title);\n  })) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, title), listingsList, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fetchListings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \" Query Listings!\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: deleteListing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \"Delete Listing!\"));\n};","map":{"version":3,"sources":["/Users/rubencastroespinoza/Development/Learning /TinyHouseV1/client/src/sections/Listings/Listings.tsx"],"names":["React","useState","server","LISTINGS","DELETE_LISTING","Listings","title","listings","setListings","fetchListings","data","fetch","query","deleteListing","id","variables","console","log","listingsList","map","listing"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,eAAvB;AAQA,MAAMC,QAAQ,GAAI;;;;;;;;;;;;;;;;CAAlB;AAkBA,MAAMC,cAAc,GAAI;;;;;;CAAxB;AAYA,OAAO,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAsB;AAC5C,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAmB,IAAnB,CAAxC;;AAEA,QAAMQ,aAAa,GAAG,YAAY;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMR,MAAM,CAACS,KAAP,CAA2B;AAAEC,MAAAA,KAAK,EAAET;AAAT,KAA3B,CAAvB;AACAK,IAAAA,WAAW,CAACE,IAAI,CAACH,QAAN,CAAX;AACD,GAHD;;AAKA,QAAMM,aAAa,GAAG,MAAOC,EAAP,IAAsB;AAC1C,UAAM;AAAEJ,MAAAA;AAAF,QAAW,MAAMR,MAAM,CAACS,KAAP,CAGrB;AACAC,MAAAA,KAAK,EAAER,cADP;AAEAW,MAAAA,SAAS,EAAE;AACTD,QAAAA,EAAE,EAAE;AADK;AAFX,KAHqB,CAAvB;AAUAE,IAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACD,GAZD;;AAcA,QAAMQ,YAAY,GAAGX,QAAQ,gBAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QAAQ,CAACY,GAAT,CAAcC,OAAD,IAAa;AACzB,wBAAO;AAAI,MAAA,GAAG,EAAEA,OAAO,CAACN,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsBM,OAAO,CAACd,KAA9B,CAAP;AACD,GAFA,CADH,CAD2B,GAMzB,IANJ;AAQA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,KAAL,CADF,EAEGY,YAFH,eAGE;AAAQ,IAAA,OAAO,EAAET,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE;AAAQ,IAAA,OAAO,EAAEI,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJF,CADF;AAQD,CAtCM","sourcesContent":["import React, { useState } from \"react\";\nimport { server } from \"../../lib/api\";\nimport {\n  ListingsData,\n  Listing,\n  DeleteListingData,\n  DeleteListingVariables,\n} from \"./types\";\n\nconst LISTINGS = `\n    query Listings {\n        listings {\n            id \n            title\n            image \n            address\n            price \n            numOfGuests\n            numOfBeds\n            numOfBaths\n            rating\n            favored\n            bookings\n        }\n    }\n`;\n\nconst DELETE_LISTING = `\n    mutation DeleteListing($id: ID!) {\n      deleteListing(id: $id) {\n        id\n      }\n    }\n`;\n\ninterface Props {\n  title: string;\n}\n\nexport const Listings = ({ title }: Props) => {\n  const [listings, setListings] = useState<Listing[] | null>(null);\n\n  const fetchListings = async () => {\n    const { data } = await server.fetch<ListingsData>({ query: LISTINGS });\n    setListings(data.listings);\n  };\n\n  const deleteListing = async (id: string) => {\n    const { data } = await server.fetch<\n      DeleteListingData,\n      DeleteListingVariables\n    >({\n      query: DELETE_LISTING,\n      variables: {\n        id: \"5f5e503dc2442a024d7d5e69\",\n      },\n    });\n\n    console.log(data);\n  };\n\n  const listingsList = listings ? (\n    <ul>\n      {listings.map((listing) => {\n        return <li key={listing.id}>{listing.title}</li>;\n      })}\n    </ul>\n  ) : null;\n\n  return (\n    <div>\n      <h2>{title}</h2>\n      {listingsList}\n      <button onClick={fetchListings}> Query Listings!</button>\n      <button onClick={deleteListing}>Delete Listing!</button>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}