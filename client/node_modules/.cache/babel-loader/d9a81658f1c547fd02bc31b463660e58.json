{"ast":null,"code":"export const server = {\n  fetch: async body => {\n    const res = await fetch(\"/api\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    });\n\n    if (!res.ok) {\n      throw new ErrorEvent(\"failed to fetch from server\");\n    }\n\n    return res.json();\n  }\n};","map":{"version":3,"sources":["/Users/rubencastroespinoza/Development/Learning /TinyHouseV1/client/src/lib/api/server.ts"],"names":["server","fetch","body","res","method","headers","JSON","stringify","ok","ErrorEvent","json"],"mappings":"AAQA,OAAO,MAAMA,MAAM,GAAG;AACpBC,EAAAA,KAAK,EAAE,MAAsCC,IAAtC,IAAiE;AACtE,UAAMC,GAAG,GAAG,MAAMF,KAAK,CAAC,MAAD,EAAS;AAC9BG,MAAAA,MAAM,EAAE,MADsB;AAE9BC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFqB;AAK9BH,MAAAA,IAAI,EAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf;AALwB,KAAT,CAAvB;;AAQA,QAAI,CAACC,GAAG,CAACK,EAAT,EAAa;AACX,YAAM,IAAIC,UAAJ,CAAe,6BAAf,CAAN;AACD;;AAED,WAAON,GAAG,CAACO,IAAJ,EAAP;AACD;AAfmB,CAAf","sourcesContent":["interface Body<TVariables> {\n  query: string;\n  variables?: TVariables;\n}\n\ninterface Error {\n  message: string;\n}\nexport const server = {\n  fetch: async <TData = any, TVariables = any>(body: Body<TVariables>) => {\n    const res = await fetch(\"/api\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!res.ok) {\n      throw new ErrorEvent(\"failed to fetch from server\");\n    }\n\n    return res.json() as Promise<{ data: TData; errors: Error[] }>;\n  },\n};\n"]},"metadata":{},"sourceType":"module"}